FROM node:24-alpine
LABEL package="web"

WORKDIR /app

COPY package*.json .env.production ./
RUN npm install --global serve
RUN npm install

COPY . .
RUN npm run build 

EXPOSE 80
CMD [ "serve", "-s", "dist", "-l", "80" ]